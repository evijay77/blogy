const models = require('../../models');
const bcrypt = require('bcryptjs');

const signup = async function (req, res) {
  req.body.userType = "USER";
  req.body.avatar = "data:image/jpeg;base64,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";
  bcrypt.genSalt(10, function (err, salt) {
    if (err) throw err;
    bcrypt.hash(req.body.password, salt, async function (err, hash) {
      if (err) throw err;
      req.body.password = hash;
      let user = new models.User(req.body);
      try {
        await user.save();
        res.json({
          message: "User Created"
        })
      } catch (error) {
        console.log(error)
        res.status(500).json({
          message: "User not created"
        })
      }
    });
  });

}

module.exports = signup;
